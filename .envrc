use nix

if [ -n "$ZSH_VERSION" ]; then
  # Initialize completion if not already done
  if ! typeset -f compinit >/dev/null; then
    autoload -Uz compinit && compinit
  fi

  # kubectl completion
  if command -v kubectl &>/dev/null; then
    eval "$(kubectl completion zsh)"
  fi

  # helm completion
  if command -v helm &>/dev/null; then
    eval "$(helm completion zsh)"
  fi
fi
